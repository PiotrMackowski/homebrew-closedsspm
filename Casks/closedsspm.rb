# This file was generated by GoReleaser. DO NOT EDIT.
cask "closedsspm" do
  name "closedsspm"
  desc "Open Source SaaS Security Posture Management â€” audit SaaS platforms for security misconfigurations."
  homepage "https://github.com/PiotrMackowski/ClosedSSPM"
  version "0.2.0"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "closedsspm"
  binary "closedsspm-mcp"

  on_macos do
    on_intel do
      url "https://github.com/PiotrMackowski/ClosedSSPM/releases/download/v#{version}/closedsspm_#{version}_darwin_amd64.tar.gz"
      sha256 "302baef3472aeeff4fb9aae10c165151d2a1e8d64bd5f79ee5a0cdf63669667e"
    end
    on_arm do
      url "https://github.com/PiotrMackowski/ClosedSSPM/releases/download/v#{version}/closedsspm_#{version}_darwin_arm64.tar.gz"
      sha256 "e410a3c1933258a25c17f81dd21d34a23f5b22971d091baaa73d42a5478e6cde"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/PiotrMackowski/ClosedSSPM/releases/download/v#{version}/closedsspm_#{version}_linux_amd64.tar.gz"
      sha256 "a3d9fbc3be515c2d9c31c1c714bd1654a8676eed51a639d777f2fcf6655336e9"
    end
    on_arm do
      url "https://github.com/PiotrMackowski/ClosedSSPM/releases/download/v#{version}/closedsspm_#{version}_linux_arm64.tar.gz"
      sha256 "142c30edd8d413c5c50640c64829e664cd9a86856ae8bc554f5812fede064bdf"
    end
  end

  postflight do
    if OS.mac?
      system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/closedsspm"]
      system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/closedsspm-mcp"]
    end
  end

  # No zap stanza required
end
